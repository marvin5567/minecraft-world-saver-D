#:kivy 1.0
# import app kivy.app.app

<ColoredBoxLayout>:
    orientation: 'vertical'
    padding: 100
    spacing: 10
    canvas.before:
        Color:
            rgba: root.loadThemeColor()
        Rectangle:
            size: self.size
            pos: self.pos

<HomePage>:
    ColoredBoxLayout:
        Label:
            text: 'Welcome to the Minecraft World Saver!'
        GridLayout:
            id: worldLayout
            cols: 1
            size_hint_y: None
            height: self.minimum_height
        BoxLayout:
            orientation: 'horizontal'
            size_hint: (1, None)
            height: 50
            spacing: 10
            Button:
                text: 'Select Minecraft Worlds Directory'
                size_hint: (0.5, 1)
                on_press: root.selectDirectory()
            Button:
                text: 'Logout'
                size_hint: (0.5, 1)
                on_press: root.logoutUser()
            Button:
                text: 'Settings'
                size_hint: (0.5, 1)
                on_press: root.switchToSettings()

<WorldDetailsScreen>:
    ColoredBoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        canvas.before:
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text: "World Name: " + root.worldName
            font_size: '20sp'
        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            size_hint_y: None
            height: 50
            Button:
                text: "Download World"
                size_hint: (None, None)
                size: 200, 50
                on_press: root.downloadWorld(root.worldData, root.worldName)
            Button:
                text: "Delete World"
                size_hint: (None, None)
                size: 200, 50
                on_press: root.deleteWorld(root.worldName)
            Button:
                text: "Back"
                size_hint: (None, None)
                size: 200, 50
                on_press: root.goBack()
            

<LoginScreen>:
    ColoredBoxLayout:
        Label:
            text: 'Username'
        TextInput:
            id: username
            multiline: False
            size_hint: (1, 0.5)
        Label:
            text: 'Password'
        TextInput:
            id: password
            password: True
            multiline: False
            size_hint: (1, 0.5)
        Button:
            text: 'Login'
            size_hint: (1, 0.5)
            on_press: root.validateUser()
        Button:
            text: 'Sign Up'
            size_hint: (1, 0.5)
            on_press: root.switchToSignupScreen()

<SignUpScreen>:
    ColoredBoxLayout:
        Label:
            text: 'Username'
        TextInput:
            id: username
            multiline: False
            size_hint: (1, 0.5)
        Label:
            text: 'Password'
        TextInput:
            id: password
            password: True
            multiline: False
            size_hint: (1, 0.5)
        Label:
            text: 'Confirm Password'
        TextInput:
            id: confirmPassword
            password: True
            multiline: False
            size_hint: (1, 0.5)
        Button:
            text: 'Sign Up'
            size_hint: (1, 0.5)
            on_press: root.add_user()
        Button:
            text: 'Back'
            size_hint: (1, 0.5)
            on_press: root.go_back()

<SettingsScreen>:
    ColoredBoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "Settings"
            font_size: '20sp'

        Label:
            text: "Theme Color (set to: " + root.loadThemeColor() + "):"
        TextInput:
            id: theme_color_input
            multiline: False
            size_hint: (1, 0.5)

        Label:
            text: "Default Downloads Directory (" + root.loadDownladDir() + "):"
        Button:
            id: default_worlds_dir_input
            size_hint: (1, 0.5)
            on_press: root.selectDirectory()

        Button:
            text: "Save Changes"
            on_press: root.saveChanges()

        Button:
            text: "Back"
            on_press: root.goBack()
